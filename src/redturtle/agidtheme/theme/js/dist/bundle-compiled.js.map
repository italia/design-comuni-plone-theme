{
  "version": 3,
  "sources": [
    "node_modules/ellipsed/lib/ellipsed.js",
    "js/src/index.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "bundle-compiled.js",
  "sourcesContent": [
    "(function(global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define('ellipsed',['exports'], factory);\n  } else if (typeof exports !== 'undefined') {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {},\n    };\n    factory(mod.exports);\n    global.ellipsed = mod.exports;\n  }\n})(this, function(exports) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true,\n  });\n\n  var _extends =\n    Object.assign ||\n    function(target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n  /*\n   *   Copyright (C) 2017  Nicola Zambello\n   *\n   *    The JavaScript code in this page is open source software licensed under MIT license\n   *    References about this code and its license, see:\n   *\n   *    https://github.com/nzambello/ellipsed\n   *\n   */\n\n  function tokensReducer(acc, token) {\n    var el = acc.el,\n      elStyle = acc.elStyle,\n      elHeight = acc.elHeight,\n      rowsLimit = acc.rowsLimit,\n      rowsWrapped = acc.rowsWrapped,\n      options = acc.options;\n\n    if (rowsWrapped === rowsLimit + 1) {\n      return _extends({}, acc);\n    }\n    var textBeforeWrap = el.textContent;\n    var newRowsWrapped = rowsWrapped;\n    var newHeight = elHeight;\n    el.textContent = el.textContent.length\n      ? el.textContent + ' ' + token + options.replaceStr\n      : '' + token + options.replaceStr;\n\n    if (parseFloat(elStyle.height) > parseFloat(elHeight)) {\n      newRowsWrapped++;\n      newHeight = elStyle.height;\n\n      if (newRowsWrapped === rowsLimit + 1) {\n        el.innerHTML =\n          textBeforeWrap[textBeforeWrap.length - 1] === '.' && options.replaceStr === '...'\n            ? textBeforeWrap + '..'\n            : '' + textBeforeWrap + options.replaceStr;\n\n        return _extends({}, acc, { elHeight: newHeight, rowsWrapped: newRowsWrapped });\n      }\n    }\n\n    el.textContent = textBeforeWrap.length ? textBeforeWrap + ' ' + token : '' + token;\n\n    return _extends({}, acc, { elHeight: newHeight, rowsWrapped: newRowsWrapped });\n  }\n\n  function ellipsis() {\n    var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var rows = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var defaultOptions = {\n      replaceStr: '...',\n      responsive: false,\n      debounceDelay: 250,\n    };\n\n    var opts = _extends({}, defaultOptions, options);\n\n    var elements = document.querySelectorAll(selector);\n    var originalTexts = [];\n\n    for (var i = 0; i < elements.length; i++) {\n      var el = elements[i];\n      originalTexts[i] = el.textContent;\n      var splittedText = el.textContent.split(' ');\n\n      el.textContent = '';\n      var elStyle = window.getComputedStyle(el);\n\n      splittedText.reduce(tokensReducer, {\n        el: el,\n        elStyle: elStyle,\n        elHeight: 0,\n        rowsLimit: rows,\n        rowsWrapped: 0,\n        options: opts,\n      });\n    }\n\n    if (opts.responsive) {\n      var resizeTimeout = false;\n\n      var resizeHandler = function resizeHandler() {\n        for (var _i = 0; _i < elements.length; _i++) {\n          elements[_i].textContent = originalTexts[_i];\n        }\n        ellipsis(selector, rows, _extends({}, options, { responsive: false }));\n      };\n\n      var resizeListener = function resizeListener() {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(resizeHandler, opts.debounceDelay);\n      };\n\n      window.addEventListener('resize', resizeListener);\n\n      return resizeListener;\n    }\n  }\n\n  function disableResponsive(listener) {\n    window.removeEventListener('resize', listener);\n  }\n\n  exports.disableResponsive = disableResponsive;\n  exports.ellipsis = ellipsis;\n});\n\n",
    "require(['jquery', 'ellipsed'], function($, ellipsed) {\n  'use strict';\n\n  var ellipsis = ellipsed.ellipsis;\n\n  // adding some <i> via js for fontawesome icons\n  var icons = [\n    {\n      selector: '#breadcrumbs-home a',\n      icon: 'fas fa-home',\n      prepend: true,\n    },\n    {\n      selector: '#document-toc .portletHeader',\n      icon: 'fas fa-list-ul',\n      prepend: true,\n    },\n    {\n      selector: '#parent-fieldname-text.pat-autotoc .autotoc-nav a',\n      icon: 'fas fa-chevron-right',\n      prepend: true,\n    },\n    {\n      selector:\n        '.template-album_view .photoAlbumEntry.photoAlbumFolder .photoAlbumEntryTitle',\n      icon: 'fas fa-folder-open',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .fb',\n      icon: 'fab fa-facebook-f',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .ig',\n      icon: 'fab fa-instagram',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .tw',\n      icon: 'fab fa-twitter',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .tg',\n      icon: 'fab fa-telegram',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .yt',\n      icon: 'fab fa-youtube',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .in',\n      icon: 'fab fa-linkedin-in',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .gp',\n      icon: 'fab fa-google-plus-g',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .pi',\n      icon: 'fab fa-pinterest',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .po',\n      icon: 'fab fa-get-pocket',\n      prepend: true,\n    },\n    {\n      selector: '.footer-social .rss',\n      icon: 'fas fa-rss',\n      prepend: true,\n    },\n    {\n      selector:\n        '.navigationTile a.navTreeFolderish:not(.navTreeCurrentNode):not(.navTreeItemInPath), .portletNavigationTree a.navTreeFolderish:not(.navTreeCurrentNode):not(.navTreeItemInPath)',\n      icon: 'fas fa-angle-down',\n      prepend: false,\n    },\n    {\n      selector:\n        '.navigationTile a.navTreeFolderish.navTreeCurrentNode, .navigationTile a.navTreeFolderish.navTreeItemInPath, .portletNavigationTree a.navTreeFolderish.navTreeCurrentNode, .portletNavigationTree a.navTreeFolderish.navTreeItemInPath',\n      icon: 'fas fa-angle-up',\n      prepend: false,\n    },\n    {\n      selector: 'button#search-filter-toggle',\n      icon: 'fas fa-filter',\n      prepend: true,\n    },\n    {\n      selector: '#sorting-options a[data-sort=\"Date\"]',\n      icon: 'far fa-calendar-alt',\n      prepend: true,\n    },\n    {\n      selector: '#sorting-options a[data-sort=\"sortable_title\"]',\n      icon: 'fas fa-sort-alpha-down',\n      prepend: true,\n    },\n    {\n      selector:\n        '#sorting-options a:not([data-sort=\"Date\"]):not([data-sort=\"sortable_title\"])',\n      icon: 'fas fa-star',\n      prepend: true,\n    },\n    {\n      selector: '#categories-filed-under',\n      icon: 'fas fa-tags',\n      prepend: true,\n    },\n    {\n      selector: '#portal-searchbox button.search-button',\n      icon: 'fas fa-search',\n      prepend: true,\n    },\n    {\n      selector: '.documentActions #document-action-print a',\n      icon: 'fas fa-print',\n      prepend: true,\n    },\n  ];\n\n  $(document).ready(function() {\n    // init fontawesome icons\n    icons.forEach(function(i) {\n      var $el = $(i.selector);\n\n      if ($el.length === 0) return;\n\n      if (i.prepend) {\n        $el.prepend('<i class=\"' + i.icon + '\"></i>');\n      } else {\n        $el.append('<i class=\"' + i.icon + '\"></i>');\n      }\n    });\n\n    /*\n     *  return-to-top arrow\n     */\n    $(window).scroll(function() {\n      if ($(this).scrollTop() >= 50) {\n        $('#return-to-top').fadeIn(200);\n      } else {\n        $('#return-to-top').fadeOut(200);\n      }\n    });\n\n    $('#return-to-top').click(function() {\n      $('body,html').animate(\n        {\n          scrollTop: 0,\n        },\n        500\n      );\n    });\n\n    /*\n     *  share button position\n     */\n    var $share = $('.share');\n    if ($('.news-column').length) {\n      $('.news-column').prepend($share);\n      $share.addClass('share-visible');\n    } else if ($('#portal-column-two').length) {\n      $('#portal-column-two').prepend($share);\n      $share.addClass('share-visible');\n    }\n\n    /*\n     * share button behavior\n     */\n    $('.share .share-toggle').on('click', function(e) {\n      e.preventDefault();\n      $share.toggleClass('open');\n    });\n\n    /*\n     * mobile: search button action\n     */\n    $('#search-toggle').on('click', function() {\n      $('#portal-searchbox').toggleClass('open');\n      $('#search-toggle').toggleClass('open');\n      $('body').toggleClass('searchOpened');\n\n      if ($('#portal-searchbox').hasClass('open')) {\n        $('#searchGadget').focus();\n      }\n    });\n\n    /*\n     * mobile: menu toggle click\n     */\n    $('button.plone-navbar-toggle').on('click', function() {\n      $('#portal-mainnavigation').toggleClass('open');\n    });\n\n    $('#globalnav-close').click(function() {\n      $('#portal-mainnavigation').removeClass('open');\n    });\n\n    /*\n     * gestione click fuori per chiudere menu, ricerca e condividi\n     */\n    $(document).on('click', function(e) {\n      if (\n        !$(e.target).closest('#portal-searchbox').length &&\n        !$(e.target).closest('button#search-toggle').length &&\n        $(window).width() <= 991\n      ) {\n        $('#portal-searchbox').removeClass('open');\n        $('#search-toggle').removeClass('open');\n        $('body').removeClass('searchOpened');\n      }\n\n      if (!$(e.target).closest('.share').length) {\n        $share.removeClass('open');\n      }\n\n      if (\n        !$(e.target).closest('#portal-globalnav-wrapper').length &&\n        !$(e.target).closest('button.plone-navbar-toggle').length &&\n        $(window).width() <= 991\n      ) {\n        if (\n          $('#portal-mainnavigation #portal-globalnav').length &&\n          $('#portal-mainnavigation #portal-globalnav').hasClass('plone-nav')\n        ) {\n          $('#portal-mainnavigation').removeClass('open');\n        }\n      }\n    });\n\n    function callEllipsis() {\n      ellipsis('.tile-collection .collectionItemDescription', 4, {\n        responsive: true,\n      });\n      ellipsis('.news-highlight .news-description', 4, { responsive: true });\n      ellipsis('.news-big-photo .news-description', 4, { responsive: true });\n    }\n\n    /*\n     * On tiles loaded:\n     * - gestito tabIndex news collection collapse\n     * - multi lined ellipsis for news collection items\n     */\n    if ($('body').hasClass('userrole-anonymous')) {\n      callEllipsis();\n    } else {\n      $('.tiles-management').on('rtTilesLoaded', function() {\n        callEllipsis();\n      });\n    }\n\n    $(document).on('patSliderInit', function(e) {\n      $(e.originalEvent.detail)\n        .find('.slick-dots')\n        .attr('aria-hidden', true);\n    });\n\n    var isIE = /*@cc_on!@*/ false || !!document.documentMode;\n    if (!isIE) {\n      var iconsEvent = new Event('rtIconsLoaded');\n      document.dispatchEvent(iconsEvent);\n    }\n  });\n});\n\ndefine(\"js/src/index.js\", function(){});\n\n"
  ]
}